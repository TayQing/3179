{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 800, 
  "height": 600, 
  "config": {"background": "#202020d6","view": {"stroke": null},"axis": {"grid": false}},
  "title": {
    "text": "Number of Billionaire in Gender and Age",
    "anchor": "start",
    "color": "#ead66a",
    "fontSize": 30,
    "font": "Didot"
  },
  "data": { 
    "url": "https://raw.githubusercontent.com/TayQing/3179/refs/heads/main/Billionaires%20Statistics%20Dataset%202.csv",
    "format": {"type": "csv"}
  },
  "transform": [
    {"calculate": "datum.gender == 'F' ? 'Female' : 'Male'", "as": "gender"},
    {
      "calculate": "if(datum.age > 15 && datum.age < 20, '15-20', if(datum.age >= 20 && datum.age <= 25, '20-25', if(datum.age >= 26 && datum.age <= 30, '26-30', if(datum.age >= 31 && datum.age <= 35, '31-35', if(datum.age >= 36 && datum.age <= 40, '36-40', if(datum.age >= 41 && datum.age <= 45, '41-45', if(datum.age >= 46 && datum.age <= 50, '46-50', if(datum.age >= 51 && datum.age <= 55, '51-55', if(datum.age >= 56 && datum.age <= 60, '56-60', if(datum.age >= 61 && datum.age <= 65, '61-65', if(datum.age >= 66 && datum.age <= 70, '66-70', if(datum.age >= 71 && datum.age <= 75, '71-75', if(datum.age >= 76 && datum.age <= 80, '76-80', if(datum.age >= 81 && datum.age <= 85, '81-85', if(datum.age >= 86 && datum.age <= 90, '86-90', '91+')))))))))))))))",
      "as": "age_range"
    }
  ],
  "spacing": 0,
  "hconcat": [
    {
      "width": 250, 
      "transform": [{"filter": {"field": "gender", "equal": "Female"}}],
      "title": {
      "text": "Female",
      "color": "#ead66a",
      "font": "Didot",
      "fontSize": 18},
      "mark": "bar",
      "encoding": {
        "y": {
          "field": "age_range", 
          "axis": null, 
          "sort": "descending"
        },
        "x": {
          "aggregate": "count", 
          "field": "personName", 
          "title": "Number of Billionaires",
          "axis": {"format": "s", "title": "Billionaire Count",
            "grid": false,
            "titleColor": "#ead66a",
            "titleFont": "Didot",
            "titleFontSize": 18,
            "labelColor": "#cfcfcf",
            "labelFont": "Didot",
            "labelFontSize": 10,
            "labelAngle": 360
          },
          "scale": {"domain": [350,0]}
        },
        "color": {
          "field": "gender",
          "scale": {"range": ["#d09638", "#3b9a83"]},
          "legend": null
        },
        "tooltip": [
          {"field": "age_range", "title": "Age Range"},
          {"aggregate": "count", "field": "personName", "title": "Number of Female Billionaires"}
        ]
      }
    },
    {
    "width": 20,
    "view": {"stroke": null},
    "mark": {
      "type": "text",
      "align": "center",
      "font": "Didot",       
      "fontSize":10,           
      "color": "#cfcfcf",
      "fontWeight": "ligh"        
  },
  "encoding": {
    "y": {"field": "age_range", "type": "ordinal", "axis": null, "sort": "descending"},
    "text": {"field": "age_range", "type": "ordinal"}
  }
},
    {
      "width": 250, 
      "transform": [{"filter": {"field": "gender", "equal": "Male"}}],
      "title": {
      "text": "Male",
      "color": "#ead66a",
      "font": "Didot",
      "fontSize": 18},
      "mark": "bar",
      "encoding": {
        "y": {
          "field": "age_range", 
          "title": null,
          "axis": null, 
          "sort": "descending"
        },
        "x": {
          "aggregate": "count", 
          "field": "personName", 
          "title": "Number of Billionaires",
          "axis": {"format": "s", "title": "Billionaire Count",
            "grid": false,
            "titleColor": "#ead66a",
            "titleFont": "Didot",
            "titleFontSize": 18,
            "labelColor": "#cfcfcf",
            "labelFont": "Didot",
            "labelFontSize": 10,
            "labelAngle": 360
          },
          "scale": {"domain": [0, 350]} 
        },
        "color": {
        "field": "gender",
        "legend": null
      },
        "tooltip": [
          {"field": "age_range", "title": "Age Range"},
          {"aggregate": "count", "field": "personName", "title": "Number of Male Billionaires"}
        ]
      }
    }
  ]
  }

